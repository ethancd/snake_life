<html>
<head>
  <link rel="stylesheet/less" type="text/css" href="style.less">
  <script src="jquery-1.9.1.js"></script>
  <script src="underscore.js"></script>
  <script src="less-1.4.1.min.js"></script>
  <script src="snake.js"></script>
</head>
<body>
  <header class="wrap">
    <h1><span class="snake">Snake</span> / <span class="life">Life</span></h1>
    <h2 class="running-score hidden">
      Score: <strong class="score">0</strong><em class="potential"></em>
    </h2>
    <h2 class="final-score gone">
      Final Score: <strong class="score"></strong>
    </h2>
  </header>

  <section class="wrap">
    <form action="" class="controls info">
      <input type="submit" value="New Game">

      <div>
        <label>
          <input type="radio" name="size" value="8">
          Sub-Atomic
        </label><br>
        <label>
          <input type="radio" name="size" value="12">
          Teensy
        </label><br>
        <label>
          <input type="radio" name="size" value="16">
          Cramped
        </label><br>
        <label>
          <input type="radio" name="size" value="20" checked>
          Normal
        </label><br>
        <label>
          <input type="radio" name="size" value="24">
          Huge
        </label>
      </div>

      <div>
        <label>
          <input type="radio" name="timeStep" value="500">
          Claymation
        </label><br>
        <label>
          <input type="radio" name="timeStep" value="300">
          Slow
        </label><br>
        <label>
          <input type="radio" name="timeStep" value="200" checked>
          Medium
        </label><br>
        <label>
          <input type="radio" name="timeStep" value="140">
          Blazing
        </label><br>
        <label>
          <input type="radio" name="timeStep" value="100">
          Ludicrous
        </label>
      </div>

      <div class="gone">
        <label>
          <input type="radio" name="quality" value="fancy" checked>
          Fancy
        </label><br>
        <label>
          <input type="radio" name="quality" value="less_fancy">
          Less Fancy
        </label><br>
        <label>
          <input type="radio" name="quality" value="not_very_fancy">
          Plain
        </label><br>
      </div>
    </form>

    <ul></ul>

    <article>
      <p class="instructions info">
        Use the arrow or WASD keys to move your snake around the board collecting 
        apples, while being careful to avoid walls, the snake body, or the fire of life 
        raging around you. You can also click and drag your mouse through spaces to
        toggle whether they're alive -- useful when you need to disrupt a dangerous
        formation.
      </p>
      <p class="instructions info">
        You score more points the longer you stay alive, and get a bonus based on 
        how many tiles are currently alive every time you eat an apple. Also, the 
        faster the speed and smaller the board, the more points you get! 
      </p>
      <p class="instructions info">
        Press Enter to start a new game with current settings.
      </p>
    </article>
  </section>
  <script>
  $(function(){
    $("html").on("keypress", function(event){
      if (event.keyCode == 13){
        $("form").submit();
      }
    })

    $("form").on("submit", function(event){
      event.preventDefault();
      var quality = $('input[name=quality]:checked').val();
      switch(quality){
        case "fancy":
          less.modifyVars({'@faded': '0.7'});
          break;
        case "less_fancy":
          less.modifyVars({'@faded': '1.0'});
          break;
        case "plain":
          less.modifyVars({'@faded': '1.0'});
      }
      var size = $('input[name=size]:checked').val();
      var timeStep = $('input[name=timeStep]:checked').val();
      Program.start(size, timeStep);
    }) 
  })
  </script>
</body>
</html>
