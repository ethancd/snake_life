<html>
<head>
  <meta charset="utf-8">
  <title>Snake/Life</title>
  <link rel='shortcut icon' type='image/x-icon' href='ethancd.github.io/snake_life/favicon.ico'>
  <link rel="stylesheet/less" type="text/css" href="style.less">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="libs/jquery-1.10.2.min.js"><\/script>')</script>
  <script src="libs/underscore-min.js"></script>
  <script src="libs/less-1.4.1.min.js"></script>
  <script src="ninia.js"></script>
</head>
<body>
  <header class="wrap">
    <h1><span class="snake">Snake</span> / <span class="life">Life</span></h1>
    <h2 class="running-score hidden">
      Score: <strong class="score">0</strong><em class="potential"></em>
    </h2>
    <h2 class="final-score gone">
      Final Score: <strong class="score"></strong>
    </h2>
  </header>

  <section class="wrap">
    <form action="" class="controls info">
      <input type="submit" value="New Game">

      <div>
        <label>
          <input type="radio" name="size" value="12">
          Teensy
        </label><br>
        <label>
          <input type="radio" name="size" value="16">
          Cramped
        </label><br>
        <label>
          <input type="radio" name="size" value="20" checked>
          Normal
        </label>
      </div>

      <div>
        <label>
          <input type="radio" name="timeStep" value="600">
          Claymation
        </label><br>
        <label>
          <input type="radio" name="timeStep" value="400">
          Slow
        </label><br>
        <label>
          <input type="radio" name="timeStep" value="250" checked>
          Medium
        </label><br>
        <label>
          <input type="radio" name="timeStep" value="175">
          Blazing
        </label><br>
        <label>
          <input type="radio" name="timeStep" value="100">
          Ludicrous
        </label>
      </div>

      <div>
        <label>
          <input type="radio" name="quality" value="fancy" checked>
          Fancy
        </label><br>
        <label>
          <input type="radio" name="quality" value="less_fancy">
          Less Fancy
        </label><br>
        <label>
          <input type="radio" name="quality" value="plain">
          Plain
        </label>
      </div>

      <div>
        <label>
          <input type="radio" name="music" value="true">
          Music<img src="images/speaker_three.png">
        </label>
        <br>
        <label>
          <input type="radio" name="music" value="false" checked>
          Mute<img src="images/speaker_none.png">
        </label>
      </div>
    </form>

    <ul></ul>

    <article>
      <p class="instructions info">
        Use the arrow or WASD keys to move your snake around the board collecting 
        apples, while being careful to avoid walls, the snake body, or the fire of life 
        raging around you. You can also click and drag your mouse through spaces to
        toggle whether they're alive -- useful when you need to disrupt a dangerous
        formation.
      </p>
      <p class="instructions info">
        You score more points the longer you stay alive, and get a bonus based on 
        how many tiles are currently alive every time you eat an apple. Also, the 
        faster the speed and smaller the board, the more points you get! 
      </p>
      <p class="instructions info">
        Press Enter to start a new game with current settings.
      </p>

      <div class="audio hidden">
        <audio controls loop class="song">
          <source src="audio/dan78.mp3" type="audio/mpeg">
          <source src="audio/dan78.ogg" type="audio/ogg">
          Your browser does not support this audio format.
        </audio>
        <a href="http://danbartonmusic.com/">
          &quot;Massive Pixel Attack&quot; by Dan Barton
        </a>
      </div>
      <div class="audio gone">
        <audio class="sfx">
          <source src="audio/scratch.mp3" type="audio/mpeg">
          <source src="audio/scratch.ogg" type="audio/ogg">
          Your browser does not support this audio format.
        </audio>
      </div>
    </article>
  </section>
  <script>
  $(function(){
    var song = $(".song")[0];
    song.volume = 0.5;

    $("html").on("keypress", function(event){
      if (event.keyCode == 13){
        $("form").submit();
      }
    })

    $("form").on("submit", function(event){
      event.preventDefault();
      var quality = $('input[name=quality]:checked').val();
      var size = $('input[name=size]:checked').val();
      var timeStep = $('input[name=timeStep]:checked').val();
      var music = $('input[name=music]:checked').val() == "true" ? true : false;
      
      Program.start(size, timeStep, quality, music);
    }) 
  })
  </script>
</body>
</html>
